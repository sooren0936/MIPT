# Практика

В прошлом уроке мы сделали отдельный сервис аудита, теперь его нужно будет связать с основным посредством Apache Kafka.
Где после завершения действий в основном сервисе, отправлялось сообщение в сервис аудит

1. Нужно доработать контролеры в основном сервисе, чтобы в header'aх отправлялся userId
2. Добавляем Producer в основной сервис посредством Spring реализации (KafkaTemplate)
3. Создаем посредством @Bean kafka топик аудита
4. После завершений действий с бд в том слое @Service, необходимо сформировать сообщение (пример которого в сервисе
   аудита мы записываем в бд) и отравить его в топик
5. В аудит-сервисе создаем kafka Consumer (посредством @KafkaListener)
6. Связываем consumer с той логикой, которую в прошлом уроке по NoSQL делали
7. На каждый producer и consumer должен быть написан хотя бы по одному позитивному негативному тесту с Testcontainers.
