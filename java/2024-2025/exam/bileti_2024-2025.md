# **Вопросы и доп вопросы**

# **Java Core**

1. **Что такое примитивные типы данных в Java**
    - Перечислите все примитивные типы данных в Java, сколько байт они занимают?
    - Чем примитивные типы отличаются от объектов?
    - В каких случаях лучше использовать примитив, а не обертку?

2. **Что такое классы-обертки (Wrapper Classes)**
    - Для чего нужны классы-обертки?
    - Что такое autoboxing и unboxing?
    - В каких случаях использование классов-оберток может быть неэффективным?

3. **Принципы ООП в Java**
    - Как инкапсуляция достигается через модификаторы доступа (`private`, `protected`)?
    - Приведите пример полиморфизма с интерфейсами или абстрактными классами.
    - Что такое наследование и как оно реализовано в Java?

4. **Интерфейсы vs. Абстрактные классы**
    - Какие возможности появились у интерфейсов в Java 8+ (`default`-методы, `static`-методы)?
    - Когда следует использовать интерфейс, а когда абстрактный класс?

5. **String vs StringBuilder vs StringBuffer**
    - Почему строки в Java являются неизменяемыми (immutable)?
    - Как работает пул строк (String Pool)?

6. **Устройство класса: конструктор, getter, setter, equals & hashCode, toString. Основные понятия их реализации в классе**
    - Почему нужно переопределять основные методы класса Object?

7. **JVM vs JDK vs JRE**
    - Какая из этих сред необходима для поставки на прод и почему?
    - Какие дополнительные инструменты java есть в jdk?

8. **Ключевое слово `static`**
    - Какие элементы в Java могут быть объявлены как `static`?
    - В чем разница между статическими и нестатическими методами?
    - Можно ли обращаться к нестатическим полям из статического метода?

9. **Ключевое слово `final`**
   - Какие элементы класса можно пометить как `final`?
   - В чем разница между `final`, `finally` и `finalize`?
   - Почему `final` используется для создания иммутабельных классов?

10. **Что такое перечисления (enum)**
    - Могут ли `enum` содержать поля и методы?
    - Почему для сравнения `enum` рекомендуется использовать `equals`, а не `==`?

11. **Что такое исключения (exceptions)**
    - Какие типы исключений существуют?
    - Как обрабатывать исключения с помощью `try-catch-finally`?
    - Чем отличается `throw` от `throws`?

12. **Что такое класс `Object`**
    - Какие основные методы есть в классе `Object`?
    - Почему важно переопределять `equals` и `hashCode` вместе?
    - Как работает метод `toString` и зачем его переопределять?

13. **Что такое Reflection API**
    - Как можно получить информацию о классе во время выполнения?
    - Какие есть ограничения у Reflection API?
    - В каких случаях Reflection API может быть полезен?

14. **Что такое Optional**
    - Как и зачем использовать `Optional` в Java?
    - Какие методы есть в `Optional` и как их использовать?
    - В каких случаях лучше возвращать `Optional`, а не `null`?

15. **Какие есть альтернативы возврату `null` из методов**
    - Что такое Null Object Pattern?
    - Когда лучше кидать исключение, а не возвращать `Optional`?
    - Какие еще подходы существуют для избежания `null`?

16. **Коллекции (Collections Framework) в Java**
    - Какие основные интерфейсы и классы есть в Collections Framework?
    - Чем `ArrayList` отличается от `LinkedList`?
    - Чем `List` отличается от `Set`?

17. **ArrayList vs. Обычный массив**
    - Как `ArrayList` увеличивает свой размер?
    - Почему `ArrayList` не потокобезопасен?
    - Какие преимущества у `ArrayList` перед обычным массивом?

18. **Что такое Iterable и Iterator**
    - Как работает цикл `for-each` под капотом?
    - Можно ли удалять элементы из коллекции во время итерации?
    - Чем `Iterable` отличается от `Iterator`?

19. **Что такое анонимные классы и лямбда-выражения**
     - В каких сценариях каждый из них применять?
     - Как лямбда-выражения связаны с функциональными интерфейсами?
     - Какие недостатки у анонимных классов

20. **Лямбда-выражения и фуркциональные интерфейсы**
    - Как лямбда-выражения связаны с функциональными интерфейсами?
    - Какие есть стандартные функциональные интерфейсы (`Predicate`, `Function`, `Consumer`)?
    - В чем преимущества лямбда-выражений?

--- 
# **Java Advanced**

1. **Что такое generics (обобщения)**
    - Для чего нужны generics?
    - В чем разница между `List<String>` и `List<Object>`?
    - Что такое wildcards (`?`, `? extends T`, `? super T`)?

2. **Почему нельзя создать массив дженериков (`new T[]`)?**
    - Какие есть обходные пути?
    - Как связаны массивы и дженерики в Java?

3. **Как работает HashMap**
    - Как разрешаются коллизии в `HashMap`?
    - Почему важно правильно переопределять `equals()` и `hashCode()` для ключей?

4. **HashSet vs. LinkedHashSet**
   - Как `HashSet` проверяет уникальность элементов?
   - Почему порядок элементов в `HashSet` не гарантируется?
   - Чем `LinkedHashSet` отличается от `HashSet`?

5. **Как происходит работа с многопоточностью в Java**
    - Как создать поток (Thread) в Java?
    - Что такое `synchronized` и как он работает?
    - Какие есть способы синхронизации потоков?

6. **Что такое Stream API**
    - Какие есть основные операции в Stream API (`map`, `filter`, `reduce`)?
    - В чем разница между промежуточными и терминальными операциями?
    - Как Stream API работает с параллельными потоками?

7. **Что такое аннотации в Java, как создать собственную**
    - Какие есть стандартные аннотации (`@Override`, `@Deprecated`)?
    - Как обрабатывать аннотации с помощью Reflection API?

8. **Что такое Records**
    - Чем Records отличаются от обычных классов?
    - Какие методы автоматически генерируются для Records?
    - В каких случаях удобно использовать Records?

9. **Устройство памяти в JVM: области и их ответственность**
   - Как устроена память в JVM (Heap, Stack, Method Area)?
   - Чем отличается Heap от Stack?
   - Какие объекты хранятся в Heap, а какие в Stack?

10. **Устройство Garbage Collection в JVM: задачи, виды, как работает**
    - Как работает Garbage Collection в Java?
    - Какие бывают этапы сборки мусора (Minor GC, Major GC, Full GC)?
    - Что такое Generational GC и как он работает?

11. **Что такое JIT-компиляция**
    - Как JIT-компилятор ускоряет выполнение Java-кода?
    - Чем интерпретатор отличается от JIT-компилятора?
    - Какова единица компиляции в Java? (метод)

12. **Что такое Unit и интеграционные тесты**
    - Какие задачи решают Unit-тесты?
    - Почему важно разделять Unit-тесты и интеграционные тесты?
    - Какой фреймворк используется для написания Unit-тестов в Java?

13. **Что такое E2E тестирование**
    - Чем оно отличается от модульного и интеграционного?
    - Какие слои приложения охватывает E2E тестирование?
    - Почему E2E тесты считаются наиболее приближенными к реальным условиям?

14. **Что такое потокобезопасность и как ее достичь**
    - Какие классы являются потокобезопасными по умолчанию?
    - Почему классы без состояния (stateless) всегда потокобезопасны?

15. **Проблема Race Condition**
    - Как состояние гонки может привести к некорректной работе программы?
    - Приведите пример, где возникает race condition, и объясните, как его можно исправить.

16. **Ключевое слово volitile**
    - Когда следует использовать `volatile` и какие проблемы он решает?
    - Почему volitile не решает проблему атомарности?
    - В каких случаях использование `volatile` достаточно, а в каких — нет?

17. **Ключевое слово `synchronized`**
    - Как работает ключевое слово `synchronized`?
    - Какие объекты можно использовать в качестве монитора для `synchronized`?
    - В чем разница между синхронизированным методом и синхронизированным блоком?

18. **Что такое атомарные классы**
    - Как работают атомарные классы (например, `AtomicLong`)?
    - В каких сценариях атомарные классы предпочтительнее `synchronized`?

19. **Что такое Happens-before в Java Memory Model (JMM)**
    - Как happens-before гарантирует видимость изменений между потоками?
    - Приведите примеры действий, которые создают happens-before отношения.

20. **Как создавать потоки в Java**
    - Что такое `synchronized` и как он работает?
    - Какие есть способы синхронизации потоков?

21. **Как Garbage Collector работает с Heap**
    - Чем отличается Heap от Stack?
    - Какие объекты хранятся в Heap, а какие в Stack?

22. **Как работает ConcurrentHashMap**
    - Какие операции в `ConcurrentHashMap` являются атомарными?
    - Какие еще есть потокобезопасные коллекции?

23. **Как работает CopyOnWriteArrayList**
    - Какие еще есть потокобезопасные коллекции?

24. **Что такое ExecutorService, какие существуют реализации**
    - В чем разница между `newFixedThreadPool`, `newCachedThreadPool` и `newScheduledThreadPool`?
    - Как выбрать подходящий пул потоков для задачи?

25. **Future vs CompletableFuture**
    - Какие методы предоставляет `Future` и какие у него ограничения?
    - Как `CompletableFuture` решает проблемы `Future`?

---

# **DB**

1. **Что такое реляционные базы данных, основные понятия: таблицы, индексы, связи...**
    - В чем разница между SQL и NoSQL?
    - Какие есть популярные СУБД (PostgreSQL, MySQL)?

2. **Что такое NoSQL: типы, примеры**
    - Чем NoSQL отличается от реляционных СУБД?
    - Какие есть типы NoSQL (документные, ключ-значение, графовые)?
    - В каких сценариях NoSQL предпочтительнее SQL?

3. **Основные понятия в SQL, виды запросов**
    - Какие есть основные SQL-запросы (`SELECT`, `INSERT`, `UPDATE`, `DELETE`)?
    - Как работают JOIN-запросы?
    - Что такое подзапросы (subqueries)?

4. **Что такое транзакции, какие свойства**
    - Какие есть свойства транзакций (ACID)?
    - Какие знаешь уровни изоляции?
    - Как завершить транзакцию (COMMIT и ROLLBACK)?

5. **Что такое ORM (Object-Relational Mapping)**
    - Как ORM преобразует объекты в таблицы?
    - Какие есть популярные ORM-фреймворки (Hibernate, JPA)?

6. **Что такое миграции базы данных**
    - Что такое миграции базы данных?
    - Какие есть инструменты для миграций (Flyway, Liquibase)?
    - Как написать SQL-миграцию?

7. **Что такое индексы**
    - Что такое индексы в базах данных?
    - Как индексы ускоряют запросы?
    - Какие есть типы индексов (B-tree, Hash)?

8. **Что такое JDBC**
   - Как выполнить SQL-запрос через JDBC?
   - В чем разница между `Statement` и `PreparedStatement`?

9. **Что такое первичный ключ (Primary Key) и зачем он нужен**
   - Какие ограничения накладываются на колонку с Primary Key?
   - Можно ли изменить значение Primary Key после его создания?

10. **Что такое внешний ключ (Foreign Key) и зачем он нужен****
    - Что такое внешний ключ и как он обеспечивает целостность данных?
    - Что произойдет, если попытаться удалить запись, на которую ссылается Foreign Key?
    - Как Foreign Key помогает избежать "висячих" ссылок?

11. **Создание таблицы в SQL**
    - Как создать таблицу с помощью SQL?
    - Какие типы данных можно использовать для колонок?
    - Как добавить ограничение NOT NULL или PRIMARY KEY при создании таблицы?

12. **Типы JOIN**
    - В чем разница между INNER JOIN и LEFT JOIN?
    - Приведите пример запроса с JOIN для выборки данных из связанных таблиц.

13. **Как работает GROUP BY в SQL**
    - Для чего используется агрегатная функция COUNT() в сочетании с GROUP BY?
    - Приведите пример запроса с GROUP BY.

14. **ACID**
    - Что означает ACID в контексте транзакций?
    - Объясните каждое свойство ACID (Atomicity, Consistency, Isolation, Durability).
    - Приведите пример, где нарушение Atomicity приводит к проблемам.

15. **Уровни изоляции транзакций: READ UNCOMMITTED**
    - Какие уровни изоляции транзакций существуют?
    - Приведи пример проблемы, решаемой этой изоляцей

16. **Уровни изоляции транзакций: READ COMMITTED**
    - Какие уровни изоляции транзакций существуют?
    - Приведи пример проблемы, решаемой этой изоляцей

17. **Уровни изоляции транзакций: REPEATABLE READ**
    - Какие уровни изоляции транзакций существуют?
    - Приведи пример проблемы, решаемой этой изоляцей

18. **Уровни изоляции транзакций: SERIALIZABLE**
    - Какие уровни изоляции транзакций существуют?
    - Приведи пример проблемы, решаемой этой изоляцей

19. **Optimistic и Pessimistic блокировки**
    - Какие средства использования этих блокировок есть в SQL/Spring?

20. **CAP-теорема**
    - Почему невозможно одновременно обеспечить Consistency, Availability и Partition Tolerance?
    - Какие два свойства обычно выбирают для распределенных систем?

21. **BASE в NoSQL**
    - Как принципы BASE (Basic Availability, Soft State, Eventual Consistency) отличаются от ACID?
    - В каких сценариях NoSQL с BASE предпочтительнее реляционных баз данных?

22. **Репликация в бд**
    - Какие проблемы могут возникнуть при репликации?
    - В чем отличие шардирования от репликации?

23. **Apache Cassandra: основные особенности**
    - Как Cassandra обеспечивает отказоустойчивость и масштабируемость?
    - Для каких типов данных она подходит?

24. **Cassandra vs. ScyllaDB**
    - В чем разница между Cassandra и ScyllaDB?
    - Почему ScyllaDB считается более производительной?
    - Как архитектура «shard per core» влияет на производительность?

25. **Keyspace и Column Family в Cassandra**
    - Что такое primary key?
    - Что такое partition key?
    - Что такое clustering key?

---

# **Spring, Мониторинг**

1. **AOP в Spring**
   - Какие основные понятия AOP (аспект, совет, точка среза, соединение)?
   - Какие типы советов (advice) существуют в Spring AOP (`@Before`, `@After`, `@Around`)?

2. **IoC в Spring**
    - Что такое IoC и как он реализован в Spring?
    - Чем отличается управление объектами через `new` от управления через IoC-контейнер?
    - Какие способы внедрения зависимостей поддерживает Spring (конструктор, сеттеры, поля)?

3. **Что такое Spring Bean**
    - Какие аннотации используются для создания бинов (`@Component`, `@Service`, `@Repository`)?
    - В чем разница между `@Autowired` и внедрением через конструктор?

4. **Жизненный цикл Spring Bean**
    - Как работают аннотации `@PostConstruct` и `@PreDestroy`?
    - Почему для бинов с `@Scope("prototype")` не вызывается `@PreDestroy`?

5. **Scope бинов**
    - Чем отличается `singleton` от `prototype`?
    - Когда следует использовать `request` и `session` scope?

6. **Что такое DispatcherServlet**
    - Какие компоненты участвуют в обработке HTTP-запроса (`HandlerMapping`, `ViewResolver`)?
    - Как работает связь между контроллером и представлением (View)?

7. **Маппинг HTTP-запросов в Spring (аннотации в контроллере)**
    - Какие аннотации используются для маппинга HTTP-запросов (`@GetMapping`, `@PostMapping`)?
    - Как извлечь параметр из URL с помощью `@PathVariable`?
    - Чем отличается `@RequestParam` от `@ModelAttribute`?

8. **Валидация в Spring MVC**
    - Как добавить валидацию с использованием Hibernate Validator (`@NotBlank`, `@Email`)?
    - Как обработать ошибки валидации в контроллере?

9. **Обработка исключений в контроллерах Spring**
   - Как обработать исключение локально с помощью `@ExceptionHandler`?
   - Что такое `@ControllerAdvice` и для чего он используется?
   - Как вернуть клиенту JSON-ответ при ошибке?

10. **Что такое интерцепторы в Spring**
    - Для каких задач используются интерцепторы в Spring MVC?
    - Как зарегистрировать интерцептор в конфигурации?
    - Какие методы есть у `HandlerInterceptor` (`preHandle`, `postHandle`)?

11. **@Controller vs. @RestController**
    - Чем отличается `@Controller` от `@RestController`?
    - Как вернуть JSON-ответ с помощью `@ResponseBody`?
    - Какие HTTP-статусы следует использовать в REST (`ResponseEntity`)?

12. **Транзакции в Spring: как работают, свойства**
    - Какие параметры можно задать (`isolation`, `propagation`)?
    - В каких случаях транзакция откатывается (rollback)?

13. **Жизненный цикл сущности в Hibernate**
    - Какие аннотации используются для маппинга сущностей в Hibernate?
    - Как Hibernate отслеживает изменения в сущностях (Dirty Checking)?

14. **Связи между сущностями в Hibernate**
    - Какие типы связей между сущностями поддерживает Hibernate?
    - Как работают `@OneToMany`, `@ManyToOne`, `@ManyToMany`?
    - В чем разница между `EAGER` и `LAZY` загрузкой?

15. **Что такое Hibernate**
    - Как Hibernate связан с JPA?
    - Какие есть стратегии загрузки данных (EAGER, LAZY)?
    - Как работает кэширование в Hibernate?

16. **Что такое JPA**
    - Какие есть основные аннотации (`@Entity`, `@Table`, `@Id`)?
    - Как работают каскадные операции (`CascadeType`)?
    - Что такое `EntityManager` и `PersistenceContext`?

17. **Проблема LazyInitializationException**
    - Как избежать проблем с `LazyInitializationException`?
    - Почему возникает эта ошибка?
    - Как правильно работать с LAZY-загрузкой внутри транзакции?

18. **Проблема N+1 в Hibernate**
    - Как избежать N+1 проблемы при работе с Hibernate?
    - Приведите пример возникновения проблемы.
    - Какие способы решения существуют?

19. **Как работает Spring Security**
    - Как настроить аутентификацию через базу данных?
    - Как реализовать JWT-аутентификацию в Spring Security?

20. **CSRF и XSS в Spring Security**
    - Как Spring Security защищает от CSRF и XSS?
    - Почему важно не отключать CSRF-защиту в REST API?
    - Как настроить Content Security Policy (CSP) для защиты от XSS?

21. **Spring Actuator**
     - Какие основные эндпойнты предоставляет Actuator (`/health`, `/metrics`, `/info`)?
     - Как защитить эндпойнты Actuator в продакшене?

22. **4 золотых сигнала мониторинга**
    - Дайте определение **Latency**, **Traffic**, **Errors**, **Saturation**.
    - Как каждый из них влияет на работу системы?

23. **SLI, SLO, SLA**
    - Как квантили (например, p95, p99) помогают в определении SLI?
    - Приведите пример SLO для API-сервиса.

24. **Histogram и Summary в Prometheus**
    - Чем отличаются квантили, вычисляемые Summary, от квантилей Histogram?

25. **Prometheus + Grafana: что это, верхнеуровневая архитектура**
    - В чем разница модели push и pull при передаче метрик приложения во внешнюю систему

---

# **Sync/async**

1. **Что такое OpenAPI**
    - Что такое OpenAPI и какие проблемы он решает?
    - Как OpenAPI помогает в документировании REST API?
    - Какие инструменты используются для генерации документации OpenAPI в Spring?

2. **Модель OSI**
    - Какие уровни модели OSI существуют?
    - Какие протоколы используются на каждом уровне?

3. **Что такое HTTP: работа, параметры**
    - Какие уровни модели OSI охватывает HTTP?
    - Как структурирован HTTP-запрос и HTTP-ответ?

4. **Что такое REST API**
    - Почему REST API предпочтительнее использования единого метода (например, POST) для всех операций?
    - Как REST API связан с HTTP-методами и ресурсами?

5. **Коды состояния HTTP**
    - Какие коды состояния HTTP вы знаете и что они означают?
    - Приведите примеры кодов состояния из групп 2xx, 3xx, 4xx и 5xx.
    - Как правильно обрабатывать ошибки в REST API (например, 404 или 500)?

6. **Что такое синхронное и асинхронное программирование?**
    - В чем разница между синхронными и асинхронными операциями?
    - Какие есть преимущества и недостатки асинхронности?
    - Как асинхронность реализована в Java?

7. **Что такое Circuit Breaker?**
   - Как Circuit Breaker предотвращает каскадные сбои?
   - Какие есть реализации (Resilience4j, Hystrix)?
   - Как настроить Circuit Breaker в Spring?

8. **Что такое Rate Limiter и зачем он нужен?**
   - Опишите алгоритмы **Token Bucket** и **Leaky Bucket**.
   - Где применяется Rate Limiter: на клиенте или сервере?

9. **Какие гарантии доставки сообщений существуют в распределенных системах?**
   - В чем разница между **at most once**, **at least once**, **exactly once**?
   - В каких сценариях применяется каждая из стратегий?

10. **Что такое идемпотентные операции?**
    - Приведите примеры идемпотентных и не идемпотентных операций.
    - Как идемпотентность помогает достичь **exactly once**?

11. **Что такое Kafka?: топики, партиции, consumer/producer**
     - Как Kafka обеспечивает обмен сообщениями?
     - Как Kafka гарантирует доставку сообщений?

12. **Как работает consumer group в Kafka?**
    - Что происходит, если количество потребителей не совпадает с количеством партиций?
    - Почему два консюмера из одной группы не могут читать одну партицию?

13. **Что такое commit offset в Kafka?**
    - Как работает **auto-commit** и какие у него могут быть проблемы?
    - Почему Kafka не удаляет сообщения после commit?

14. **Какие настройки **acks** есть у producer в Kafka и как они влияют на гарантии доставки?**
    - Чем отличается **acks=0**, **acks=1**, **acks=all**?
    - Как параметр **min.insync.replicas** связан с надежностью доставки?

15. **Как Kafka обеспечивает отказоустойчивость и масштабируемость?**
    - Как работает репликация партиций?
    - Что такое **retention policy** и как она влияет на хранение сообщений?

16. **Что такое **loose coupling** в контексте асинхронного взаимодействия?**
    - Как брокеры сообщений помогают уменьшить связанность между сервисами?
    - Приведите пример жесткой и слабой связанности в коде.

17. **Какие проблемы консистентности возникают при работе с несколькими источниками данных (например, БД и Kafka)?**
    - Приведите пример кода, где сообщение в Kafka отправляется до/после коммита транзакции. Какие риски это несёт?
    - Почему нельзя гарантировать строгую консистентность без дополнительных механизмов?

18. **Как работает двухфазный коммит?**
    - Какие гарантии доставки (at least once, exactly once) они обеспечивают?
    - Какие преимущества и недостатки у 2PC?

19. **Как работает **Transactional Outbox**?**
    - Какие гарантии доставки (at least once, exactly once) они обеспечивают?
    - Какие преимущества и недостатки у Transactional Outbox?

20. **Что такое JSON, преимущества/недостатки**
    - Почему JSON популярен в REST API?
    - Какие проблемы могут возникнуть при работе с типами данных (например,`long`vs`integer`)?

21. **Что такое **Protocol Buffers** и как они работают?**
    - Как определяется схема данных в `.proto`-файле?
    - Какие типы полей поддерживаются (например, `optional`, `repeated`)?

22. **Что такое Avro и как он работает?**
    - Как Avro использует схемы для сериализации/десериализации?
    - В чем разница между **схемой для записи** и **схемой для чтения**?

23. **Что такое **прямая** и **обратная** совместимость схем?**
    - Приведите примеры изменений схемы, которые нарушают обратную совместимость.
    - Как Protocol Buffers и Avro помогают поддерживать совместимость?

24. **Как обеспечить совместимость при добавлении новых полей в JSON-схему?**
    - Какие аннотации Jackson (`@JsonIgnoreProperties`, `@JsonProperty`) помогают в этом?
    - Почему важно помечать новые поля как `optional` в бинарных форматах?