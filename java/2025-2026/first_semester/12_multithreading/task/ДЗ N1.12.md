### **Задание: Синхронизированный банковский счет**

**Цель:** Изучить на практике причину мертвой блокировки (deadlock) и практического применения ключевого
слова: `synchronized`.

**Описание:** Требуется создать 2 разных метода по отправке денег:

- первый будет корректно отрабатывать
- второй будет вызывать deadlock

1. Создайте класс `BankAccount`, который представляет банковский счет с полем `balance` (баланс).
2. Создайте класс `Bank`, который представляет методы по переводу денег между счетами.
3. Реализуйте потокобезопатный метод `sendToAccount(BankAccount from, BankAccount to, int amount)` для снятия и
   отправки денег со своего счета в другой. Метод так же должен проверять, достаточно ли средств на счете.
4. Чтобы гарантировать отсутствие дедлока, вам необходимо каким-то образом разорвать цепь **поэтапной** синхронизации
   первого аккаунта и второго, и возможность их поменять местами в методе (например, один из вариантов это иметь с
   порядковым номером поле id аккаунта и проверять последовательность: кто больше тот и идет первым в блоке синхронизации).
5. Реализуйте синхронизированный метод
   `sendToAccountDeadlock(BankAccount from, BankAccount to, int amount)`, который подвержен
   дедлоку
6. Напишите тесты, которые покрывают как базовые многопоточные кейсы из задания, так и негативные кейсы (например с
   валидацией денег).
7. Тесты должны получится у вас многопоточными: используйте **множество** потоков, каждый из которых пытается отправить деньги.
8. Тест с вызовом дедлока, чтобы программа не зависла, можно обработать при помощи join указав timeout

**Критерии оценивания:**

| Баллы | Критерий                                                                                                 |
|:------|:---------------------------------------------------------------------------------------------------------|
| **2** | Реализация базовых классов и  двух соответствующих методов по отправке денег (корректный и с deadlock) . |
| **5** | Написание тестов по базовым сценариям.                                                                   |
| **3** | Написание тестов, которые проверяют валидацию, проверка на null и прочие вещи.                           |
